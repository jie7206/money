DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Rails SSH Command Help</title>

<style type="text/css">
<!--
li {
	font-family: Verdana;
	font-size: 13px;
	line-height: 150%;
	color: #555;
}
.style1 {
	font-size: 14px;
	font-weight: bold;
	color: #c00;
}
-->
</style>
</head>

<body>
<h3>SSH Command</h3>
<ul>
<!--ssh_command_source_start-->
  <li>rails demo -d mysql</li>
  <li>rake db:create:all</li>
  <li>rake db:test:clone_structure</li>
  <li>rails generate scaffold guest_book name:string message:text is_vip:boolean income:decimal important:integer data:binary user:references</li>
  <li>rails generate migration add_column_to_cook_book_langs order_by_id:boolean</li>
  <li>rails generate model Topic --skip-migration</li>
  <li>rails generate model Topic title:string money:integer</li>
  <li>rails generate resource TrialList --skip</li>
  <li>rails destroy model Topic</li>
  <li>rails generate controller customers index show new edit create update destroy</li>
  <li>rails generate controller 'admin/manage' index</li>
  <li>不可以將action命名為以下名稱: process</li>
  <li>rails new appname --skip-bundle</li>
  <li>bundle install</li>
  <li>rails s -p 3100</li>
  <li>rails g scaffold guest_book name:string tel:string</li>
  <li>rails db:migrate</li>
  <li>rake db:migrate rails_env=test</li>
  <li>rake db:rollback STEP=1</li>
  <li>rake test</li>
<!--ssh_command_source_end-->
</ul>
<h3>Rails Code</h3>
<ul>
<!--rails_code_source_start-->
  <li>&quot;category&quot;.pluralize</li>
  <li>&quot;category&quot;.singularize</li>
  <li>&quot;egg_and_hams&quot;.classify #=> &quot;EggAndHam&quot;</li>
  <li>&quot;RawScaledScorer&quot;.tableize #=> &quot;raw_scaled_scorers&quot;</li>
  <li>&quot;active_record/errors&quot;.camelize #=> &quot;ActiveRecord::Errors&quot;</li>
  <li>&quot;ActiveRecord::Errors&quot;.underscore #=> active_record/errors</li>
  <li>select(&quot;post&quot;, &quot;person_id&quot;, Person.find(:all).collect {|p| [ p.name, p.id ] }, { :include_blank => true })</li>
  <li>link_to truncate(life_goal.title, 50, ' ...'), edit_life_goal_path(life_goal), {:title => life_goal.title}</li>
  <li>Time.now.to_s(:db)</li>
  <li>t.date_select 'due', :order => [:day, :month, :year]</li>
  <li>Date.today.to_s(:db)</li>
  <li>image_tag('icons/home.gif',:title=>'首頁',:border=>0)</li>
  <li>f.text_area :code, :cols => 100, :wrap => 'off'</li>
  <li>Dir.glob('app/controllers/*_controller.rb')</li>
  <li>Dir.glob(Rails.root+folder_path+"*#{match_str}*.jpg").each do |filefullname|<br/>
      result &lt;&lt; filefullname.sub(Rails.root+folder_path,'')<br/>
    end</li>
  <li>validates_presence_of :name</li>
  <li>validates_format_of :next_class_time, :with => /\d\d:\d\d/, :message => "must be like 12:00"</li>
  <li>&quot;Koala&quot;.intern » :Koala</li>
  <li>number_to_currency(10000, :unit => '人民幣 ', :precision => 0)</li>
  <li>reset_session</li>
  <li>helper_method :admin? #如此將admin?控制器方法暴露為一個輔助方法(Helper),以便在其他視圖中使用</li>
  <li>before_filter :verify_admin, :only => [:new, :edit, :index]</li>
  <li>before_filter :verify_admin, :except => [:new, :edit]</li>
  <li>default_url_options[:host] = RAILS_ENV != production ? &quot;development_url.com&quot; : &quot;production_url.com&quot;</li>
  <li>render :partial => 'member_report_input_data', :locals => { :r => get_classification_counts( @members ) }</li>
  <li>member.trace.last_class_date.strftime(&quot;%Y-%m-%d&quot;)</li>
  <li> onMouseOver="this.style.background='#EFEF88';" onMouseOut="this.style.background='#FFFFFF';"</li>
  <li>sprintf("￥%0.02f",product.price)</li>
  <li>errors.add(:blessing_number, "如果是祝福会员，必须提供祝福对数，否则家庭报表会出错！" ); return false</li>
  <li>link_to_unless_current post.title, post</li>
  <li>rename_column :traces, :area_id, :aid</li>
  <li>select("sim_character", "blessing_num", sim_blessing_arr.collect {|b| [ b[0], b[1] ] }, { :include_blank => true })</li>
  <li>%Q 代表一个 双引号的字符串， 例如 a = "foo" ; a = %Q{ foo } %q 代表单引号字符串， 不能使用 #{var}的形式。</li>
  <li>add_zero(rand(10-1)+1) #取1到10的随机数</li>
  <li>@activity.begin_time = @activity.begin_time ? @activity.begin_time : '09:00'<br/>f.text_field :begin_time, :size => 4, :value => @activity.begin_time.strftime("%H:%M")</li>
  <li>concat "&lt;tr&gt;&lt;td&gt;男&lt;/td&gt;&lt;td&gt;女&lt;/td&gt;&lt;td&gt;总&lt;/td&gt;&lt;/tr&gt;"  # 使用方式类似 Response.write 可在函式def中输出html代码</li>
  <li>params.inspect</li>
<!--rails_code_source_end-->
</ul>
<h3>相关资源</h3>
<ul>
  <li>在Windows下如何安装RMagick：http://www.myexception.cn/open-source/1216820.html</li>
  <li>现在已经解决：1. 在建测试数据库时用 utf8 2. yaml 用utf8来保存 3. database.yml 中加入 encoding: utf8</li>
  <li>
    要在界面和数据库都很好的显示处理中国时区时间，编辑environment.rb, 加入<br/>
    config.active_record.default_timezone = :local<br/>
    config.time_zone = 'Beijing'</li>
  <li>修改Gemfile路径：<br/>
    gem source -a https://gems.ruby-china.org
  </li>
</ul>
</body>
</html>
